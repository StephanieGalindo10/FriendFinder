
<html lang="en">
		<html>
		
		<head>
			<title> Friend Finder Survey-Stephanie Galindo</title>
			<meta charset="UTF-8">
			<!-- materialize -->
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">

			<link rel="stylesheet" type="text/css" href="css/style.css">
			<!--Let browser know website is optimized for mobile-->
			<meta name="viewport" content="width=device-width, initial-scale=1.0" />
			   <!-- jQuery -->
			<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
			<!-- Compiled and minified JavaScript -->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
		  
		</head>
		
		<body>
			
				<body background="https://i.gifer.com/Pido.gif">
			<div class='container'>
				<div class='card-panel  grey darken-1 col s11 center-align'>

					<h2>Lets find a friend</h2>

					<h4><strong>Survey Questions</strong></h4>
					<div class='card-panel left-align white'>
						<h5><strong>About You (What is your name)?</strong></h5>
						<br>
						<input id="name" type="text" class="validate" required>
						<label class='active' for="name">Name (required)</label>
						<input id="photo" type="text" class="validate" required>
						<label class='active' for="name">Link to Photo Image (required)</label>
						<h5><strong>Question 1</strong></h5>
						<p>I like to go outdoor and see the world.</p>
						<select data-placeholder="" class="browser-default" id="q1">
							<option value="">Choose an option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<h5><strong>Question 2</strong></h5>
						<p>I see myself as a strong player.</p>
						<select data-placeholder="" class="browser-default" id="q2">
							<option value="">Choose an option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<h5><strong>Question 3</strong></h5>
						<p>I dont have any goals right now, or in 1 years .</p>
						<select data-placeholder="" class="browser-default" id="q3">
							<option value="">Choose an option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<h5><strong>Question 4</strong></h5>
						<p>I see myself as anxious, easily gets upset due to anxiety.</p>
						<select data-placeholder="" class="browser-default" id="q4">
							<option value="">Choose an option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<h5><strong>Question 5</strong></h5>
						<p>I like to meet new people and encourage others.</p>
						<select data-placeholder="" class="browser-default" id="q5">
							<option value="">Choose an option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<h5><strong>Question 6</strong></h5>
						<p>I see myself as a loner, quiet don't like to be in large groups</p>
						<select data-placeholder="" class="browser-default" id="q6">
							<option value="">Choose an Option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<h5><strong>Question 7</strong></h5>
						<p>I see myself as a kind person.</p>
						<select data-placeholder="" class="browser-default" id="q7">
							<option value="">Choose an option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<h5><strong>Question 8</strong></h5>
						<p>I see myself as disorganized perfer to do things last minute.</p>
						<select data-placeholder="" class="browser-default" id="q8">
							<option value="">Choose an option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<h5><strong>Question 9</strong></h5>
						<p>I see myself as calm, even when in danger.</p>
						<select data-placeholder="" class="browser-default" id="q9">
							<option value="">Choose an option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<h5><strong>Question 10</strong></h5>
						<p>I see myself as a boring person, that does not like change.</p>
						<select data-placeholder="" class="browser-default" id="q10">
							<option value="">Choose an option</option>
							<option value="1">1 (Strongly Disagree)</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5 (Strongly Agree)</option>
						</select>
						<br>
						 
						<button type ="submit" data-target="modal1"  class="waves-effect waves-light btn modal-trigger red lighten-1" id="submitBtn">Submit</button>
					</div>
				</div>
			   
		
				
				<div id="modal1" class="modal">
				  <div class="modal-content">
					<h4> Congrats! Meet Your New Friend</h4>
					<h5 id="matchName"></h5>
					<img id="matchPic" src="" alt="No Image" width = 250px>
				  </div>
				<div class="modal-footer">
				  <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Done</a>
				</div>
			  </div>
		
			</div>
		

		<script type="text/javascript">
		$(document).ready(function() {
			$("#submitBtn").on("click", function() {
				//form validation
				function validateForm() {
					var isValid = true;
					$('.validate').each(function() {
						if ($(this).val() === ''){
							isValid = false;
						}
					});
					$('.browser-default').each(function() {
						if ($(this).val() === ""){
							isValid = false;
						}
					});
					return isValid;
				}
				//if everything is filled
				if (validateForm() == true) {
					//creates a new friend from the values submitted
					var newFriend = {
						name: $('#name').val().trim(),
						profilePic: $('#photo').val().trim(),
						scores: [
							$('#q1').val(),
							$('#q2').val(),
							$('#q3').val(),
							$('#q4').val(),
							$('#q5').val(),
							$('#q6').val(),
							$('#q7').val(),
							$('#q8').val(),
							$('#q9').val(),
							$('#q10').val(),
						]
					};
					
					var currentURL = window.location.origin;
				
					$.post(currentURL + "/api/friends", newFriend, function(data) {
						
						$("#matchName").text(data.name);
						$("#matchPic").attr("src", data.profilePic);
					});
					
						$('.modal').modal();
					//clear form after submission///
					$('#name').val("");
					$('#photo').val("");
					$('#q1').val("");
					$('#q2').val("");
					$('#q3').val("");
					$('#q4').val("");
					$('#q5').val("");
					$('#q6').val("");
					$('#q7').val("");
					$('#q8').val("");
					$('#q9').val("");
					$('#q10').val("");
				} else {
					alert("Please fill out information to see results!")
				}
				// return false;
			});
		});
		</script>
		</body>
		
		</html>